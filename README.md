# Barcode photo reader

Небольшое CLI-приложение для распознавания штрихкодов и QR-кодов на локальных изображениях
с помощью облачной библиотеки [Aspose Barcode Cloud](https://products.aspose.cloud/barcode/)
версии `25.10.0`.

## Быстрый старт

1. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

2. Получите учетные данные клиента в кабинете Aspose Cloud и задайте их через переменные
   окружения:

   ```bash
   export ASPOSE_CLIENT_ID="your-client-id"
   export ASPOSE_CLIENT_SECRET="your-client-secret"
   ```

3. Запустите утилиту, указав путь к изображению:

   ```bash
   python -m app.cli path/to/photo.jpg
   ```

   По умолчанию результат выводится в виде списка найденных кодов. Флаг `--json` включает
   вывод в формате JSON.

## Сборка Windows-исполняемого файла

Для автоматической сборки `exe`-версии утилиты на Windows выполните:

```bat
build_windows.bat
```

Скрипт установит зависимости, запустит PyInstaller и разместит готовый файл
`dist\barcode-reader.exe`. Подробный ход выполнения сохраняется в журнал
`build_windows.log` рядом со скриптом. После сборки программу можно запускать
напрямую:

```bat
dist\barcode-reader.exe path\to\photo.jpg --json
```

Учтите, что приложению по-прежнему нужны учетные данные Aspose Cloud. Их можно передать
через аргументы `--client-id`/`--client-secret` или задать в переменных окружения текущей
сессии перед запуском `exe`.

## Дополнительные параметры

- `--type <symbology>` — ограничивает поиск конкретными типами штрихкодов. Параметр можно
  повторять несколько раз.
- `--preset <name>` — передает Aspose предустановленный профиль распознавания (например,
  `HighPerformance`).
- `--base-url <url>` — позволяет переопределить базовый URL облачного API (актуально для
  приватных инсталляций).
- `--client-id` и `--client-secret` — явная передача учетных данных вместо переменных
  окружения.
- `--log-file <path>` — задает путь к текстовому файлу логов. По умолчанию журнал
  создается рядом с исполняемым файлом под именем `barcode_reader.log`.

## Логирование

Приложение автоматически ведет подробный журнал работы: фиксируются параметры запуска,
используемый SDK, путь к обрабатываемому изображению и результаты распознавания. По
умолчанию логи сохраняются в файл `barcode_reader.log` в текущей рабочей директории, а
сообщения уровня INFO и выше дублируются в стандартный поток ошибок. При необходимости путь можно изменить с
помощью параметра `--log-file`.

## Структура проекта

- `app/barcode_reader.py` — обертка над SDK Aspose Barcode Cloud.
- `app/cli.py` — код командной строки.
- `requirements.txt` — список зависимостей.

## Примечания

Из-за ограничений окружения зависимости не устанавливаются автоматически. Если в вашей
среде отсутствует доступ к PyPI, скачайте пакет `aspose-barcode-cloud==25.10.0` вручную и
установите его локально.
